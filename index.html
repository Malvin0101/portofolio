<!DOCTYPE html>
<html lang="id" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MALVIN PROTOFOLIO</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        /* ========================================
           ADVANCED SYSTEM & MULTI-LAYER THEMES
           ======================================== */
        :root {
            --bg: #0b111a;
            --card: rgba(25, 33, 44, 0.7);
            --text: #e2e8f0;
            --accent: #a18cd1;
            --nav-bg: rgba(11, 17, 26, 0.9);
            --shadow: rgba(0,0,0,0.5);
            --transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }

        [data-theme="ocean"] { 
            --accent: #00d2ff; --bg: #001a2d; --text: #e0f2fe; 
            --card: rgba(10, 35, 50, 0.8); --nav-bg: rgba(0, 26, 45, 0.95);
        }
        [data-theme="sunset"] { 
            --accent: #ff4e50; --bg: #1a0f0f; --text: #fff5f5; 
            --card: rgba(50, 20, 20, 0.7); --nav-bg: rgba(26, 15, 15, 0.95);
        }
        [data-theme="forest"] { 
            --accent: #00ff87; --bg: #040d04; --text: #eaffea; 
            --card: rgba(15, 30, 15, 0.7); --nav-bg: rgba(4, 13, 4, 0.95);
        }
        [data-theme="light"] { 
            --bg: #fdf6f6; --text: #2d3436; --card: rgba(255,255,255,0.95); 
            --nav-bg: rgba(255,255,255,0.98); --accent: #6c5ce7; --shadow: rgba(0,0,0,0.1);
        }

        /* RESET & BASE */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        html { scroll-behavior: smooth; overflow-x: hidden; }
        body { background: var(--bg); color: var(--text); transition: var(--transition); overflow-x: hidden; -webkit-tap-highlight-color: transparent; }

        /* ULTRA PARTICLE ENGINE STYLES */
        #visual-engine { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }

        /* Keyframes */
        @keyframes comet-ultra {
            0% { transform: translate3d(200px, -200px, 0) rotate(-45deg); opacity: 0; }
            20% { opacity: 1; }
            100% { transform: translate3d(-120vw, 120vh, 0) rotate(-45deg); opacity: 0; }
        }

        @keyframes bubble-float {
            0% { transform: translate3d(0, 110vh, 0) scale(0.3); opacity: 0; }
            30% { opacity: 0.6; }
            100% { transform: translate3d(var(--random-x), -20vh, 0) scale(1.5); opacity: 0; }
        }

        @keyframes firefly-dance {
            0%, 100% { transform: translate3d(0,0,0); opacity: 0; }
            50% { transform: translate3d(50px, -50px, 0); opacity: 1; box-shadow: 0 0 20px var(--accent); }
        }

        @keyframes leaf-spiral {
            0% { transform: translate3d(0, -10vh, 0) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            100% { transform: translate3d(150px, 110vh, 0) rotate(1080deg); opacity: 0; }
        }

        @keyframes sparkle-vortex {
            0% { transform: rotate(0deg) translateX(10px) rotate(0deg); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: rotate(360deg) translateX(50px) rotate(-360deg); opacity: 0; }
        }

        /* Particle Classes */
        .p-unit { position: absolute; will-change: transform, opacity; }
        .p-comet { width: 4px; height: 4px; background: #fff; box-shadow: 0 0 20px #fff, 0 0 40px var(--accent); border-radius: 50%; }
        .p-comet::after { content: ''; position: absolute; width: 200px; height: 2px; background: linear-gradient(90deg, #fff, transparent); top: 50%; left: 0; }
        
        .p-bubble { border: 1.5px solid rgba(255,255,255,0.4); border-radius: 50%; background: radial-gradient(circle at 30%, rgba(255,255,255,0.2), transparent); }
        
        .p-firefly { width: 5px; height: 5px; background: var(--accent); border-radius: 50%; box-shadow: 0 0 15px var(--accent); }

        /* NAV & SECTIONS */
        nav { display: flex; justify-content: space-between; align-items: center; padding: 1.2rem 8%; position: fixed; width: 100%; top: 0; background: var(--nav-bg); backdrop-filter: blur(25px); z-index: 1000; transition: 0.4s; }
        .logo { font-size: 1.5rem; font-weight: 800; color: var(--accent); letter-spacing: 3px; }
        .nav-links { display: flex; gap: 2rem; list-style: none; }
        .nav-links a { text-decoration: none; color: var(--text); font-size: 0.9rem; font-weight: 500; opacity: 0.7; transition: 0.3s; }
        .nav-links a:hover { opacity: 1; color: var(--accent); text-shadow: 0 0 10px var(--accent); }

        section { padding: 120px 8% 60px; min-height: 100vh; display: flex; flex-direction: column; align-items: center; max-width: 1400px; margin: 0 auto; }

        /* HERO AREA */
        .hero { justify-content: center; text-align: center; }
        .hero-circle { position: relative; width: clamp(180px, 25vw, 250px); height: clamp(180px, 25vw, 250px); margin-bottom: 2rem; }
        .hero-circle img { width: 100%; height: 100%; border-radius: 50%; border: 6px solid var(--accent); padding: 8px; object-fit: cover; z-index: 10; position: relative; background: var(--bg); }
        .hero-circle::before { content: ''; position: absolute; inset: -15px; background: var(--accent); border-radius: 50%; filter: blur(40px); opacity: 0.4; animation: pulse 3s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); opacity: 0.4; } 50% { transform: scale(1.1); opacity: 0.6; } }

        h1 { font-size: clamp(2.2rem, 8vw, 4.5rem); font-weight: 800; line-height: 1.1; margin-bottom: 1rem; }
        .typing { color: var(--accent); text-shadow: 0 0 20px var(--accent); border-right: 4px solid var(--accent); }

        /* GRID CARDS */
        .glass-card { background: var(--card); padding: clamp(1.5rem, 5vw, 3rem); border-radius: 40px; border: 1px solid rgba(255,255,255,0.1); width: 100%; box-shadow: 0 25px 50px var(--shadow); backdrop-filter: blur(20px); transition: 0.5s; }
        .glass-card:hover { transform: translateY(-10px) scale(1.01); border-color: var(--accent); }

        .skills-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 3rem; width: 100%; margin-top: 3rem; }
        .skill-item { margin-bottom: 2rem; }
        .skill-head { display: flex; justify-content: space-between; margin-bottom: 12px; font-weight: 700; font-size: 1rem; }
        .bar-container { background: rgba(255,255,255,0.1); height: 14px; border-radius: 20px; overflow: hidden; position: relative; }
        .bar-fill { height: 100%; background: linear-gradient(90deg, var(--accent), #fff); width: 0; transition: 2.5s cubic-bezier(0.34, 1.56, 0.64, 1); box-shadow: 0 0 20px var(--accent); }

        /* MUSIC MASTER */
        .music-player { width: 100%; max-width: 500px; padding: 3rem; border-radius: 50px; background: var(--card); border: 1px solid rgba(255,255,255,0.1); text-align: center; }
        .vinyl-stack { position: relative; width: 200px; height: 200px; margin: 0 auto 2rem; }
        .vinyl-disk { width: 100%; height: 100%; border-radius: 50%; border: 8px solid var(--accent); object-fit: cover; animation: disk-spin 10s linear infinite; animation-play-state: paused; }
        @keyframes disk-spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        .seek-container { width: 100%; margin: 1rem 0; }
        .seek-bar { width: 100%; height: 6px; cursor: pointer; accent-color: var(--accent); border-radius: 10px; }
        .time-display { display: flex; justify-content: space-between; font-size: 0.8rem; opacity: 0.6; margin-top: 5px; }

        .m-controls { display: flex; align-items: center; justify-content: center; gap: 2.5rem; }
        .btn-p { background: none; border: none; color: var(--text); font-size: 2.5rem; cursor: pointer; transition: 0.3s; }
        .play-main { width: 80px; height: 80px; background: var(--accent); color: white; border-radius: 50%; font-size: 2rem; box-shadow: 0 15px 30px rgba(0,0,0,0.3); }

        .volume-row { display: flex; align-items: center; gap: 15px; margin-top: 2.5rem; padding: 0 20px; }
        .vol-range { flex: 1; accent-color: var(--accent); cursor: pointer; }

        @media (max-width: 768px) {
            .nav-links { display: none; }
            h1 { font-size: 2.5rem; }
            section { padding-top: 100px; }
            .glass-card { padding: 1.5rem; }
        }
    </style>
</head>
<body data-theme="dark">

    <div id="visual-engine"></div>

    <nav id="navbar">
        <div class="logo">Malvin</div>
        <ul class="nav-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#skills">Skills</a></li>
            <li><a href="#music">Music</a></li>
        </ul>
        <select class="theme-select" id="themeSelector">
            <option value="dark">üåô Dark Meteor</option>
            <option value="ocean">üåä Deep Ocean</option>
            <option value="sunset">üåá Sunset Autumn</option>
            <option value="forest">üåø Mystic Forest</option>
            <option value="light">‚òÄÔ∏è Royal Bright</option>
        </select>
    </nav>

    <section id="home" class="hero">
        <div class="hero-circle">
            <img src="https://via.placeholder.com/250/6c5ce7/ffffff?text=MALVIN" alt="Profile">
        </div>
        <h1>I AM <span id="type-target" class="typing"></span></h1>
        <p style="margin-top: 1.5rem; font-size: 1.2rem; opacity: 0.7; letter-spacing: 1px;">Creative Student & Strategy Gaming Enthusiast</p>
    </section>

    <section id="about">
        <div class="glass-card">
            <h2 style="font-size: 2.5rem; color: var(--accent); margin-bottom: 1.5rem;">The Personal üé≠</h2>
            <p style="text-align: left; font-size: 1.1rem; line-height: 1.8;">Saya adalah siswa kelas 8A yang aktif dan senang belajar, dan bermain game. Saya suka membaca buku, mengikuti kegiatan ekstrakurikuler, dan mencoba hal-hal baru yang bermanfaat. Saya juga berusaha disiplin dan bertanggung jawab dalam belajar maupun kegiatan sekolah.</p>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; margin-top: 3rem;">
                <div style="text-align: left; border-left: 3px solid var(--accent); padding-left: 15px;">
                    <h4 style="color: var(--accent);">Status</h4>
                    <p>Pelajar</p>
                </div>
                <div style="text-align: left; border-left: 3px solid var(--accent); padding-left: 15px;">
                    <h4 style="color: var(--accent);">Gaming Skill</h4>
                    <p>FPS & MOBA</p>
                </div>
                <div style="text-align: left; border-left: 3px solid var(--accent); padding-left: 15px;">
                    <h4 style="color: var(--accent);">School</h4>
                    <p>SMP NEGERI 8 TASIKMALAYA</p>
                </div>
            </div>
        </div>
    </section>

    <section id="skills">
        <div class="skills-grid">
            <div class="glass-card">
                <h2 style="margin-bottom: 2rem;">Academic Skills üõ†Ô∏è</h2>
                <div class="skill-item">
                    <div class="skill-head"><span>Informatika</span><span>90%</span></div>
                    <div class="bar-container"><div class="bar-fill" data-w="90%"></div></div>
                </div>
                <div class="skill-item">
                    <div class="skill-head"><span>Matematika</span><span>85%</span></div>
                    <div class="bar-container"><div class="bar-fill" data-w="85%"></div></div>
                </div>
                <div class="skill-item">
                    <div class="skill-head"><span>IPA</span><span>82%</span></div>
                    <div class="bar-container"><div class="bar-fill" data-w="82%"></div></div>
                </div>
            </div>
            <div class="glass-card">
                <h2 style="margin-bottom: 2rem;">Combat Stats üéÆ</h2>
                <div class="skill-item">
                    <div class="skill-head"><span>Aim</span><span>75%</span></div>
                    <div class="bar-container"><div class="bar-fill" data-w="75%" style="background: #ff4757;"></div></div>
                </div>
                <div class="skill-item">
                    <div class="skill-head"><span>Map Awareness</span><span>80%</span></div>
                    <div class="bar-container"><div class="bar-fill" data-w="80%" style="background: #1e90ff;"></div></div>
                </div>
                <div class="skill-item">
                    <div class="skill-head"><span>Clutch Mentality</span><span>87%</span></div>
                    <div class="bar-container"><div class="bar-fill" data-w="87%" style="background: #2ed573;"></div></div>
                </div>
            </div>
        </div>
    </section>

    <section id="music">
        <div class="music-player">
            <div class="vinyl-stack">
                <img src="https://via.placeholder.com/200/a18cd1/ffffff?text=VINYL" id="mainDisk" class="vinyl-disk">
            </div>
            <h3 id="trackName" style="font-size: 1.5rem;">Select Track</h3>
            <p id="artistName" style="opacity: 0.5; margin-bottom: 10px;">Music Engine v2.0</p>
            
            <div class="seek-container">
                <input type="range" class="seek-bar" id="musicSeekBar" value="0" step="0.1">
                <div class="time-display">
                    <span id="currentTime">0:00</span>
                    <span id="durationTime">0:00</span>
                </div>
            </div>

            <div class="m-controls">
                <button class="btn-p" onclick="changeSong(-1)">‚èÆ</button>
                <button class="btn-p play-main" id="playToggle" onclick="toggleAudio()">‚ñ∂</button>
                <button class="btn-p" onclick="changeSong(1)">‚è≠</button>
            </div>

            <div class="volume-row">
                <span>üîà</span>
                <input type="range" class="vol-range" min="0" max="1" step="0.05" value="0.5" id="volBar">
                <span>üîä</span>
            </div>
        </div>
    </section>

    <footer>
        <p>&copy; 2025 MALVIN</p>
    </footer>

    <audio id="audioSrc"></audio>

    <script>
        // --- 1. ULTRA VISUAL ENGINE ---
        const engine = document.getElementById('visual-engine');
        const themeSel = document.getElementById('themeSelector');
        let particleFreq;

        function updateVisuals() {
            clearInterval(particleFreq);
            engine.innerHTML = '';
            const theme = document.body.getAttribute('data-theme');
            const speed = (theme === 'dark' || theme === 'ocean') ? 300 : 450;

            particleFreq = setInterval(() => {
                const p = document.createElement('div');
                const xPos = Math.random() * 100;
                const duration = Math.random() * 3 + 4;
                p.className = 'p-unit';

                if (theme === 'dark') {
                    p.classList.add('p-comet');
                    p.style.right = '-200px';
                    p.style.top = Math.random() * 60 + '%';
                    p.style.animation = `comet-ultra ${duration - 2}s ease-in forwards`;
                } else if (theme === 'ocean') {
                    const size = Math.random() * 30 + 10;
                    p.classList.add('p-bubble');
                    p.style.width = size + 'px'; p.style.height = size + 'px';
                    p.style.left = xPos + 'vw';
                    p.style.setProperty('--random-x', (Math.random() * 200 - 100) + 'px');
                    p.style.animation = `bubble-float ${duration + 2}s ease-out forwards`;
                } else if (theme === 'forest') {
                    p.classList.add('p-firefly');
                    p.style.left = xPos + 'vw'; p.style.top = Math.random() * 100 + 'vh';
                    p.style.animation = `firefly-dance ${duration}s infinite ease-in-out`;
                } else if (theme === 'sunset') {
                    p.innerHTML = ['üçÇ','üçÅ','üåø'][Math.floor(Math.random()*3)];
                    p.style.fontSize = '25px'; p.style.left = xPos + 'vw'; p.style.top = '-50px';
                    p.style.animation = `leaf-spiral ${duration + 3}s linear forwards`;
                } else if (theme === 'light') {
                    p.innerHTML = '‚ú¶'; p.style.color = 'var(--accent)';
                    p.style.left = xPos + 'vw'; p.style.top = Math.random() * 100 + 'vh';
                    p.style.animation = `sparkle-vortex ${duration}s infinite linear`;
                }
                engine.appendChild(p);
                if(theme !== 'forest' && theme !== 'light') setTimeout(() => p.remove(), 7000);
            }, speed);
        }

        themeSel.addEventListener('change', (e) => {
            document.body.setAttribute('data-theme', e.target.value);
            updateVisuals();
        });

        // --- 2. TYPEWRITER ---
        const phrases = ["Newbie", "Malvin", "Strategy Gamer", "Creative Student"];
        let pIdx = 0, cIdx = 0, isDeleting = false;

        function typeLoop() {
            const target = document.getElementById('type-target');
            const current = phrases[pIdx];
            target.innerText = isDeleting ? current.substring(0, cIdx - 1) : current.substring(0, cIdx + 1);
            cIdx = isDeleting ? cIdx - 1 : cIdx + 1;
            if(!isDeleting && cIdx === current.length) { isDeleting = true; setTimeout(typeLoop, 2500); }
            else if(isDeleting && cIdx === 0) { isDeleting = false; pIdx = (pIdx + 1) % phrases.length; setTimeout(typeLoop, 600); }
            else { setTimeout(typeLoop, isDeleting ? 60 : 150); }
        }

        // --- 3. SKILLS BAR ---
        const barObs = new IntersectionObserver(entries => {
            entries.forEach(e => {
                if(e.isIntersecting) {
                    const fill = e.target.querySelector('.bar-fill');
                    fill.style.width = fill.getAttribute('data-w');
                }
            });
        }, { threshold: 0.5 });
        document.querySelectorAll('.skill-item').forEach(item => barObs.observe(item));

        // --- 4. MUSIC ENGINE (Lirik & Delay dihapus) ---
        const tracks = [
            { 
                n: "Sailor Song", 
                a: "Gigi Perez", 
                url: "https://unnecessary-crimson-kzd6yxosuv.edgeone.app/Sailor%20Song%20-%20Gigi%20Perez%20Lyrics.mp3"
            },
            { 
                n: "Slipping Through My Fingers", 
                a: "ABBA", 
                url: "https://aesthetic-blush-mbxg0ejxlv.edgeone.app/Slipping%20Through%20My%20Fingers.mp3"
            },
            { 
                n: "The Winner Takes It All", 
                a: "ABBA", 
                url: "https://public-lime-lus9hluetk.edgeone.app/ABBA%20-%20The%20Winner%20Takes%20It%20All.mp3"
            },
            { 
                n: "Fix You", 
                a: "Coldplay", 
                url: "https://accurate-bronze-lafrabebwl.edgeone.app/@coldplay%20-%20Fix%20You%20(Lyrics).mp3"
            }
        ];

        let sIdx = 0, isPlaying = false;
        const audio = document.getElementById('audioSrc');
        const seekBar = document.getElementById('musicSeekBar');
        const curTimeText = document.getElementById('currentTime');
        const durTimeText = document.getElementById('durationTime');

        function formatTime(sec) {
            let m = Math.floor(sec / 60);
            let s = Math.floor(sec % 60);
            return `${m}:${s < 10 ? '0' + s : s}`;
        }

        function loadSong(i) {
            const track = tracks[i];
            audio.src = track.url;
            document.getElementById('trackName').innerText = track.n;
            document.getElementById('artistName').innerText = track.a;
            
            audio.onloadedmetadata = () => {
                seekBar.max = audio.duration;
                durTimeText.innerText = formatTime(audio.duration);
            };
        }

        function toggleAudio() {
            if (audio.paused) {
                audio.play();
                isPlaying = true;
            } else {
                audio.pause();
                isPlaying = false;
            }
            document.getElementById('playToggle').innerText = isPlaying ? '‚è∏' : '‚ñ∂';
            document.getElementById('mainDisk').style.animationPlayState = isPlaying ? 'running' : 'paused';
        }

        audio.ontimeupdate = () => {
            seekBar.value = audio.currentTime;
            curTimeText.innerText = formatTime(audio.currentTime);
        };

        seekBar.oninput = () => {
            audio.currentTime = seekBar.value;
        };

        function changeSong(dir) {
            sIdx = (sIdx + dir + tracks.length) % tracks.length;
            loadSong(sIdx);
            if(isPlaying) audio.play();
        }

        document.getElementById('volBar').oninput = (e) => audio.volume = e.target.value;

        window.onload = () => { updateVisuals(); typeLoop(); loadSong(0); };
    </script>
</body>
</html>